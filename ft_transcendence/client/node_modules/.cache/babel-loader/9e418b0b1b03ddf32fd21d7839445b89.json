{"ast":null,"code":"var _jsxFileName = \"/Users/sohndohyun/works/transcendence/client/src/Admin/Admin.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './styles/Admin.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { allImages, findImg } from '../Images/Images';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Admin = () => {\n  _s();\n\n  const [IntraID, setIntraID] = useState('');\n  const [Nickname, setNickname] = useState('');\n  const [Icon, setIcon] = useState('');\n  const [OldNickname, setOldNickname] = useState('');\n  const [OldIcon, setOldIcon] = useState('');\n  const [SignUp, setSignUp] = useState(true);\n  const [IsUnique, setIsUnique] = useState(true);\n  useEffect(() => {\n    const intra_id = sessionStorage.getItem('intraID');\n    if (intra_id) setIntraID(intra_id);\n    const old_nickname = sessionStorage.getItem('nickname');\n\n    if (old_nickname) {\n      setOldNickname(old_nickname);\n      setSignUp(false);\n    }\n\n    const old_icon = sessionStorage.getItem('icon');\n    if (old_icon) setOldIcon(old_icon);\n  });\n\n  const handleNicknameChange = e => {\n    setNickname(e.target.value);\n  };\n\n  const handleIconChange = e => {\n    setIcon(e.target.value);\n  };\n\n  async function saveAdmin(isSignUp) {\n    const body = {\n      intra_id: IntraID,\n      icon: Icon ? Icon : OldIcon,\n      nickname: Nickname ? Nickname : OldNickname\n    };\n\n    if (!SignUp) {\n      await axios.patch('/admin', body).then(Response => {\n        if (Nickname) sessionStorage.setItem('nickname', Nickname);\n        if (Icon) sessionStorage.setItem('icon', Icon);\n        document.location.href = '/lobby';\n      }).catch(Error => {\n        setIsUnique(false);\n      });\n    } else {\n      await axios.post('/admin', body).then(Response => {\n        if (Nickname) sessionStorage.setItem('nickname', Nickname);\n        if (Icon) sessionStorage.setItem('icon', Icon);\n        document.location.href = '/lobby';\n      }).catch(Error => {\n        setIsUnique(false);\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Admin-container\",\n    children: [SignUp ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: findImg(OldIcon),\n        width: \"30\",\n        height: \"30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), \"\\xA0\", OldNickname, /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: handleNicknameChange,\n      placeholder: \"Nickname\",\n      maxLength: 10\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), IsUnique ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nickname-error\",\n      children: \"\\uC720\\uD6A8\\uD558\\uC9C0 \\uC54A\\uC740 \\uAC12\\uC785\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"icon-box\",\n      children: allImages.map(({\n        value,\n        src\n      }) => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"icon\",\n          value: value,\n          onChange: handleIconChange,\n          className: \"icon-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"icon\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: src,\n            width: \"50\",\n            height: \"50\",\n            className: \"icon-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Join-button\",\n      children: SignUp && (!Nickname || !Icon) ? null : /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"btn btn-dark\",\n        onClick: () => saveAdmin(SignUp),\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"OK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Admin, \"4cqwJChSPd64eCip176OWnOOrNU=\");\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["/Users/sohndohyun/works/transcendence/client/src/Admin/Admin.tsx"],"names":["React","useEffect","useState","allImages","findImg","axios","Admin","IntraID","setIntraID","Nickname","setNickname","Icon","setIcon","OldNickname","setOldNickname","OldIcon","setOldIcon","SignUp","setSignUp","IsUnique","setIsUnique","intra_id","sessionStorage","getItem","old_nickname","old_icon","handleNicknameChange","e","target","value","handleIconChange","saveAdmin","isSignUp","body","icon","nickname","patch","then","Response","setItem","document","location","href","catch","Error","post","map","src"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,qBAAP;AACA,OAAO,sCAAP;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,kBAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,IAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMoB,QAAQ,GAAGC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAjB;AACA,QAAIF,QAAJ,EAAcb,UAAU,CAACa,QAAD,CAAV;AAEd,UAAMG,YAAY,GAAGF,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAArB;;AACA,QAAIC,YAAJ,EAAkB;AAChBV,MAAAA,cAAc,CAACU,YAAD,CAAd;AACAN,MAAAA,SAAS,CAAC,KAAD,CAAT;AACD;;AAED,UAAMO,QAAQ,GAAGH,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAjB;AACA,QAAIE,QAAJ,EAAcT,UAAU,CAACS,QAAD,CAAV;AACf,GAZQ,CAAT;;AAcA,QAAMC,oBAAoB,GAAIC,CAAD,IAAY;AACvCjB,IAAAA,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACD,GAFD;;AAGA,QAAMC,gBAAgB,GAAIH,CAAD,IAAY;AACnCf,IAAAA,OAAO,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACD,GAFD;;AAIA,iBAAeE,SAAf,CAAyBC,QAAzB,EAA4C;AAC1C,UAAMC,IAAI,GAAG;AACXZ,MAAAA,QAAQ,EAAEd,OADC;AAEX2B,MAAAA,IAAI,EAAEvB,IAAI,GAAGA,IAAH,GAAUI,OAFT;AAGXoB,MAAAA,QAAQ,EAAE1B,QAAQ,GAAGA,QAAH,GAAcI;AAHrB,KAAb;;AAKA,QAAI,CAACI,MAAL,EAAa;AACX,YAAMZ,KAAK,CACR+B,KADG,CACG,QADH,EACaH,IADb,EAEHI,IAFG,CAEGC,QAAD,IAAc;AAClB,YAAI7B,QAAJ,EAAca,cAAc,CAACiB,OAAf,CAAuB,UAAvB,EAAmC9B,QAAnC;AACd,YAAIE,IAAJ,EAAUW,cAAc,CAACiB,OAAf,CAAuB,MAAvB,EAA+B5B,IAA/B;AACV6B,QAAAA,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,GAAyB,QAAzB;AACD,OANG,EAOHC,KAPG,CAOIC,KAAD,IAAW;AAChBxB,QAAAA,WAAW,CAAC,KAAD,CAAX;AACD,OATG,CAAN;AAUD,KAXD,MAWO;AACL,YAAMf,KAAK,CACRwC,IADG,CACE,QADF,EACYZ,IADZ,EAEHI,IAFG,CAEGC,QAAD,IAAc;AAClB,YAAI7B,QAAJ,EAAca,cAAc,CAACiB,OAAf,CAAuB,UAAvB,EAAmC9B,QAAnC;AACd,YAAIE,IAAJ,EAAUW,cAAc,CAACiB,OAAf,CAAuB,MAAvB,EAA+B5B,IAA/B;AACV6B,QAAAA,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,GAAyB,QAAzB;AACD,OANG,EAOHC,KAPG,CAOIC,KAAD,IAAW;AAChBxB,QAAAA,WAAW,CAAC,KAAD,CAAX;AACD,OATG,CAAN;AAUD;AACF;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,eACGH,MAAM,GAAG,IAAH,gBACL;AAAA,8BACE;AAAK,QAAA,GAAG,EAAEb,OAAO,CAACW,OAAD,CAAjB;AAA4B,QAAA,KAAK,EAAC,IAAlC;AAAuC,QAAA,MAAM,EAAC;AAA9C;AAAA;AAAA;AAAA;AAAA,cADF,UAESF,WAFT,eAGE;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAQE;AACE,MAAA,QAAQ,EAAEa,oBADZ;AAEE,MAAA,WAAW,EAAC,UAFd;AAGE,MAAA,SAAS,EAAE;AAHb;AAAA;AAAA;AAAA;AAAA,YARF,EAaGP,QAAQ,GAAG,IAAH,gBACP;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAdJ,eAiBE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,gBACGhB,SAAS,CAAC2C,GAAV,CAAc,CAAC;AAAEjB,QAAAA,KAAF;AAASkB,QAAAA;AAAT,OAAD,kBACb;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,KAAK,EAAElB,KAHT;AAIE,UAAA,QAAQ,EAAEC,gBAJZ;AAKE,UAAA,SAAS,EAAC;AALZ;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AAAM,UAAA,SAAS,EAAC,MAAhB;AAAA,iCACE;AAAK,YAAA,GAAG,EAAEiB,GAAV;AAAe,YAAA,KAAK,EAAC,IAArB;AAA0B,YAAA,MAAM,EAAC,IAAjC;AAAsC,YAAA,SAAS,EAAC;AAAhD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA,sBADD;AADH;AAAA;AAAA;AAAA;AAAA,YAjBF,eAkCE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,gBACG9B,MAAM,KAAK,CAACR,QAAD,IAAa,CAACE,IAAnB,CAAN,GAAiC,IAAjC,gBACC;AAAG,QAAA,SAAS,EAAC,cAAb;AAA4B,QAAA,OAAO,EAAE,MAAMoB,SAAS,CAACd,MAAD,CAApD;AAAA,+BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YAlCF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4CD,CAzGD;;GAAMX,K;;KAAAA,K;AA2GN,eAAeA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './styles/Admin.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { allImages, findImg } from '../Images/Images';\nimport axios from 'axios';\n\nconst Admin = () => {\n  const [IntraID, setIntraID] = useState('');\n  const [Nickname, setNickname] = useState('');\n  const [Icon, setIcon] = useState('');\n  const [OldNickname, setOldNickname] = useState('');\n  const [OldIcon, setOldIcon] = useState('');\n  const [SignUp, setSignUp] = useState(true);\n  const [IsUnique, setIsUnique] = useState(true);\n\n  useEffect(() => {\n    const intra_id = sessionStorage.getItem('intraID');\n    if (intra_id) setIntraID(intra_id);\n\n    const old_nickname = sessionStorage.getItem('nickname');\n    if (old_nickname) {\n      setOldNickname(old_nickname);\n      setSignUp(false);\n    }\n\n    const old_icon = sessionStorage.getItem('icon');\n    if (old_icon) setOldIcon(old_icon);\n  });\n\n  const handleNicknameChange = (e: any) => {\n    setNickname(e.target.value);\n  };\n  const handleIconChange = (e: any) => {\n    setIcon(e.target.value);\n  };\n\n  async function saveAdmin(isSignUp: boolean) {\n    const body = {\n      intra_id: IntraID,\n      icon: Icon ? Icon : OldIcon,\n      nickname: Nickname ? Nickname : OldNickname,\n    };\n    if (!SignUp) {\n      await axios\n        .patch('/admin', body)\n        .then((Response) => {\n          if (Nickname) sessionStorage.setItem('nickname', Nickname);\n          if (Icon) sessionStorage.setItem('icon', Icon);\n          document.location.href = '/lobby';\n        })\n        .catch((Error) => {\n          setIsUnique(false);\n        });\n    } else {\n      await axios\n        .post('/admin', body)\n        .then((Response) => {\n          if (Nickname) sessionStorage.setItem('nickname', Nickname);\n          if (Icon) sessionStorage.setItem('icon', Icon);\n          document.location.href = '/lobby';\n        })\n        .catch((Error) => {\n          setIsUnique(false);\n        });\n    }\n  }\n\n  return (\n    <div className=\"Admin-container\">\n      {SignUp ? null : (\n        <div>\n          <img src={findImg(OldIcon)} width=\"30\" height=\"30\" />\n          &nbsp;{OldNickname}\n          <hr />\n        </div>\n      )}\n      <input\n        onChange={handleNicknameChange}\n        placeholder=\"Nickname\"\n        maxLength={10}\n      />\n      {IsUnique ? null : (\n        <div className=\"nickname-error\">유효하지 않은 값입니다.</div>\n      )}\n\n      <div className=\"icon-box\">\n        {allImages.map(({ value, src }) => (\n          <>\n            <input\n              type=\"radio\"\n              name=\"icon\"\n              value={value}\n              onChange={handleIconChange}\n              className=\"icon-input\"\n            />\n            <span className=\"icon\">\n              <img src={src} width=\"50\" height=\"50\" className=\"icon-img\"></img>\n            </span>\n          </>\n        ))}\n      </div>\n\n      <div className=\"Join-button\">\n        {SignUp && (!Nickname || !Icon) ? null : (\n          <a className=\"btn btn-dark\" onClick={() => saveAdmin(SignUp)}>\n            <b>OK</b>\n          </a>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}