{"ast":null,"code":"var _jsxFileName = \"/Users/jinkim/bye_blackhole/client/src/Chat/ChatSettingModal.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport useSwr from 'swr';\nimport React, { useState, useCallback } from 'react';\nimport \"./styles/ChatSettingModal.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ChatSettingModal = props => {\n  _s();\n\n  const {\n    open,\n    close,\n    chatRoomID,\n    MyPermission\n  } = props;\n\n  async function changePWD() {\n    //await axios.post('chat/' + chatRoomID + '/admin/')\n    close();\n  }\n\n  const fetcher = async url => {\n    if (chatRoomID) {\n      const res = await axios.get(url);\n      return res.data;\n    }\n  };\n\n  const {\n    data,\n    error,\n    mutate\n  } = useSwr('Chat/banList?title=' + chatRoomID, fetcher);\n\n  async function Unban(user) {\n    await axios.get('chat/unban?title=' + chatRoomID + '&id=' + user);\n    mutate();\n  }\n\n  const [RoomPWD, setRoomPWD] = useState('');\n  const handelRoomPWD = useCallback(e => {\n    setRoomPWD(e.target.value);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: open ? 'openModal Modal' : 'Modal',\n    children: open ? /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: [\"Setting\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close\",\n          onClick: close,\n          children: \" \\xD7 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ban-name\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Banned users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ban-box\",\n          children: data === null || data === void 0 ? void 0 : data.map(user => /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ban-inlineBox\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ban-user\",\n                children: user\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"unban\",\n                onClick: () => Unban(user),\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"btn unban-btn\",\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }, this), MyPermission === 'owner' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 8\n          }, this), \"new password:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handelRoomPWD,\n            value: RoomPWD\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"btn btn-primary btn-sm\",\n            onClick: changePWD,\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Change\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 66\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this) : null\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ChatSettingModal, \"pKQb/n8A0rb+g8/d5gLfu+IhwTU=\", false, function () {\n  return [useSwr];\n});\n\n_c = ChatSettingModal;\nexport default ChatSettingModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatSettingModal\");","map":{"version":3,"sources":["/Users/jinkim/bye_blackhole/client/src/Chat/ChatSettingModal.tsx"],"names":["axios","useSwr","React","useState","useCallback","ChatSettingModal","props","open","close","chatRoomID","MyPermission","changePWD","fetcher","url","res","get","data","error","mutate","Unban","user","RoomPWD","setRoomPWD","handelRoomPWD","e","target","value","map"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport useSwr from 'swr';\nimport React, {useState, useCallback} from 'react';\nimport \"./styles/ChatSettingModal.scss\";\n\nconst ChatSettingModal = ( props: any ) => {\n\tconst { open, close, chatRoomID, MyPermission} = props;\n\n\tasync function changePWD(){\n\t\t//await axios.post('chat/' + chatRoomID + '/admin/')\n\t\tclose();\n\t}\n\n\tconst fetcher = async (url:string) => {\n\t\tif (chatRoomID)\n\t\t{\n\t\t\tconst res = await axios.get(url)\n\t\t\treturn res.data;\n\t\t}\n\t}\n\tconst {data, error, mutate} = useSwr<{id:string}[]>('Chat/banList?title=' + chatRoomID, fetcher)\n\n\tasync function Unban(user: {id:string}){\n\t\tawait axios.get('chat/unban?title=' + chatRoomID + '&id=' + user)\n\t\tmutate()\n\t}\n\n\tconst [RoomPWD, setRoomPWD] = useState('');\n\tconst handelRoomPWD = useCallback((e:any) => {\n\t\tsetRoomPWD(e.target.value)\n\t}, []);\n\n\treturn (\n\t\t<div className={ open ? 'openModal Modal' : 'Modal' }>\n\t\t\t{ open ? (\n\t\t\t\t<section>\n\t\t\t\t\t<header>\n\t\t\t\t\t\tSetting\n\t\t\t\t\t\t<button className=\"close\" onClick={close}> &times; </button>\n\t\t\t\t\t</header>\n\t\t\t\t\t<main>\n\t\t\t\t\t\t<div className=\"ban-name\"><b>Banned users</b></div>\n\t\t\t\t\t\t<div className=\"ban-box\">\n\t\t\t\t\t\t\t{data?.map(user => \n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"ban-inlineBox\">\n\t\t\t\t\t\t\t\t\t<span className=\"ban-user\">{user}</span>\n\t\t\t\t\t\t\t\t\t<span className=\"unban\" onClick={() => Unban(user)}><a className=\"btn unban-btn\">x</a></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{MyPermission === 'owner' ? \n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\tnew password:&nbsp;\n\t\t\t\t\t\t\t<input onChange={handelRoomPWD} value={RoomPWD}></input>\n\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t<a className=\"btn btn-primary btn-sm\" onClick={changePWD}><b>Change</b></a>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}\n\t\t\t\t\t</main>\n\t\t\t\t\t<footer>\n\t\t\t\t\t</footer>\n\t\t\t\t</section>\n\t\t\t) : null }\n\t\t</div>\n\t)\n}\n\nexport default ChatSettingModal"]},"metadata":{},"sourceType":"module"}