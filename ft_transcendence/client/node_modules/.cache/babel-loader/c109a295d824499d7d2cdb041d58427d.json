{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jinkim/jin_bye/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jinkim/jin_bye/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jinkim/jin_bye/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import axios from\"axios\";import useSwr from'swr';var MyProfile=function MyProfile(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),IntraID=_useState2[0],setIntraID=_useState2[1];useEffect(function(){var intra_id=sessionStorage.getItem('intraID');if(intra_id)setIntraID(intra_id);});var fetcher=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!IntraID){_context.next=8;break;}console.log('my profile!!!');_context.next=4;return axios.get(url);case 4:res=_context.sent;sessionStorage.setItem('nickname',res.data.id);sessionStorage.setItem('icon',res.data.icon);return _context.abrupt(\"return\",res.data);case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetcher(_x){return _ref.apply(this,arguments);};}();var _useSwr=useSwr('/profile?intra_id='+IntraID,fetcher),data=_useSwr.data,error=_useSwr.error,mutate=_useSwr.mutate;return{id:data===null||data===void 0?void 0:data.id,icon:data===null||data===void 0?void 0:data.icon};};export default MyProfile;","map":{"version":3,"sources":["/Users/jinkim/jin_bye/client/src/SideBar/MyProfile.tsx"],"names":["useEffect","useState","axios","useSwr","MyProfile","IntraID","setIntraID","intra_id","sessionStorage","getItem","fetcher","url","console","log","get","res","setItem","data","id","icon","error","mutate"],"mappings":"sbAAA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,KAAnB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eAEOH,QAAQ,CAAC,EAAD,CAFf,wCAEhBI,OAFgB,eAEPC,UAFO,eAIvBN,SAAS,CAAC,UAAM,CACf,GAAMO,CAAAA,QAAQ,CAAGC,cAAc,CAACC,OAAf,CAAuB,SAAvB,CAAjB,CACA,GAAIF,QAAJ,CAAcD,UAAU,CAACC,QAAD,CAAV,CACd,CAHQ,CAAT,CAKA,GAAMG,CAAAA,OAAO,0FAAG,iBAAOC,GAAP,8HACXN,OADW,yBAGdO,OAAO,CAACC,GAAR,CAAY,eAAZ,EAHc,sBAIIX,CAAAA,KAAK,CAACY,GAAN,CAAUH,GAAV,CAJJ,QAIRI,GAJQ,eAKdP,cAAc,CAACQ,OAAf,CAAuB,UAAvB,CAAmCD,GAAG,CAACE,IAAJ,CAASC,EAA5C,EACAV,cAAc,CAACQ,OAAf,CAAuB,MAAvB,CAA+BD,GAAG,CAACE,IAAJ,CAASE,IAAxC,EANc,gCAOPJ,GAAG,CAACE,IAPG,wDAAH,kBAAPP,CAAAA,OAAO,4CAAb,CATuB,YAoBOP,MAAM,CAA2B,qBAAuBE,OAAlD,CAA2DK,OAA3D,CApBb,CAoBhBO,IApBgB,SAoBhBA,IApBgB,CAoBVG,KApBU,SAoBVA,KApBU,CAoBHC,MApBG,SAoBHA,MApBG,CAsBvB,MAAQ,CAACH,EAAE,CAACD,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEC,EAAV,CAAcC,IAAI,CAACF,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEE,IAAzB,CAAR,CACA,CAvBD,CAyBA,cAAef,CAAAA,SAAf","sourcesContent":["import {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport useSwr from 'swr';\n\nconst MyProfile = () => {\n\n\tconst [IntraID, setIntraID] = useState('')\n\t\n\tuseEffect(() => {\n\t\tconst intra_id = sessionStorage.getItem('intraID')\n\t\tif (intra_id) setIntraID(intra_id)\n\t})\n\n\tconst fetcher = async (url:string) => {\n\t\tif (IntraID)\n\t\t{\n\t\t\tconsole.log('my profile!!!')\n\t\t\tconst res = await axios.get(url)\n\t\t\tsessionStorage.setItem('nickname', res.data.id)\n\t\t\tsessionStorage.setItem('icon', res.data.icon)\n\t\t\treturn res.data;\n\t\t}\n\t}\n\n\tconst {data, error, mutate} = useSwr<{id:string, icon:string}>('/profile?intra_id=' + IntraID, fetcher)\n\n\treturn ({id:data?.id, icon:data?.icon})\n}\n\nexport default MyProfile\n"]},"metadata":{},"sourceType":"module"}