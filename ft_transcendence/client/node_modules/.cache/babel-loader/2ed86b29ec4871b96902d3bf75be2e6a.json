{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jinkim/bye_blackhole/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jinkim/bye_blackhole/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jinkim/bye_blackhole/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./styles/Admin.scss\";import'bootstrap/dist/css/bootstrap.min.css';import{allImages,findImg}from'../Images/Images';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Admin=function Admin(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),IntraID=_useState2[0],setIntraID=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Nickname=_useState4[0],setNickname=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),Icon=_useState6[0],setIcon=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),OldNickname=_useState8[0],setOldNickname=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),OldIcon=_useState10[0],setOldIcon=_useState10[1];var _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),SignUp=_useState12[0],setSignUp=_useState12[1];useEffect(function(){var intra_id=sessionStorage.getItem(\"IntraID\");if(intra_id)setIntraID(intra_id);var old_nickname=sessionStorage.getItem(\"nickname\");if(old_nickname){setOldNickname(old_nickname);setSignUp(false);}var old_icon=sessionStorage.getItem(\"icon\");if(old_icon)setOldIcon(old_icon);});var handleNicknameChange=function handleNicknameChange(e){setNickname(e.target.value);console.log(e.target.value.length);};var handleIconChange=function handleIconChange(e){setIcon(e.target.value);};function saveAdmin(_x){return _saveAdmin.apply(this,arguments);}function _saveAdmin(){_saveAdmin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(isSignUp){var body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(Nickname)sessionStorage.setItem(\"nickname\",Nickname);if(Icon)sessionStorage.setItem(\"icon\",Icon);body={nickname:Nickname?Nickname:OldNickname,state:'on',icon:Icon?Icon:OldIcon//...\n};if(!isSignUp){_context.next=8;break;}_context.next=6;return axios.put('/Admin/'+IntraID,body);case 6:_context.next=10;break;case 8:_context.next=10;return axios.post('/Admin/'+IntraID,body);case 10:case\"end\":return _context.stop();}}},_callee);}));return _saveAdmin.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"Admin-container\",children:[SignUp?null:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:findImg(OldIcon),width:\"30\",height:\"30\"}),\"\\xA0\",OldNickname,/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsx(\"input\",{onChange:handleNicknameChange,placeholder:\"Nickname\"}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-box\",children:allImages.map(function(_ref){var value=_ref.value,src=_ref.src;return/*#__PURE__*/_jsxs(\"span\",{className:\"icon\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"icon\",value:value,onChange:handleIconChange,className:\"icon-input\"}),/*#__PURE__*/_jsx(\"img\",{src:src,width:\"50\",height:\"50\",className:\"icon-img\"})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"Join-button\",children:SignUp&&(!Nickname||!Icon)?null:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-dark\",href:\"/Lobby\",onClick:function onClick(){return saveAdmin(SignUp);},children:/*#__PURE__*/_jsx(\"b\",{children:\"OK\"})})})]});};export default Admin;","map":{"version":3,"sources":["/Users/jinkim/bye_blackhole/client/src/Home/Admin.tsx"],"names":["React","useEffect","useState","allImages","findImg","axios","Admin","IntraID","setIntraID","Nickname","setNickname","Icon","setIcon","OldNickname","setOldNickname","OldIcon","setOldIcon","SignUp","setSignUp","intra_id","sessionStorage","getItem","old_nickname","old_icon","handleNicknameChange","e","target","value","console","log","length","handleIconChange","saveAdmin","isSignUp","setItem","body","nickname","state","icon","put","post","map","src"],"mappings":"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","sourcesContent":["import React, {useEffect, useState}from \"react\";\nimport \"./styles/Admin.scss\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {allImages, findImg} from '../Images/Images';\nimport axios from \"axios\";\n\nconst Admin = () => {\n\tconst [IntraID, setIntraID] = useState('')\n\tconst [Nickname, setNickname] = useState('')\n\tconst [Icon, setIcon] = useState('')\n\tconst [OldNickname, setOldNickname] = useState('')\n\tconst [OldIcon, setOldIcon] = useState('')\n\tconst [SignUp, setSignUp] = useState(true)\n\n\tuseEffect(() => {\n\t\tconst intra_id = sessionStorage.getItem(\"IntraID\")\n\t\tif (intra_id) setIntraID(intra_id);\n\n\t\tconst old_nickname = sessionStorage.getItem(\"nickname\");\n\t\tif (old_nickname) {\n\t\t\tsetOldNickname(old_nickname);\n\t\t\tsetSignUp(false);\n\t\t}\n\n\t\tconst old_icon = sessionStorage.getItem(\"icon\")\n\t\tif (old_icon) setOldIcon(old_icon)\n\t})\n\n\tconst handleNicknameChange = (e:any) => {\n\t\tsetNickname(e.target.value);\n\t\tconsole.log(e.target.value.length)\n\t};\n\tconst handleIconChange = (e:any) => {\n\t\tsetIcon(e.target.value);\n\t};\n\n\tasync function saveAdmin(isSignUp: boolean){\n\t\tif (Nickname) sessionStorage.setItem(\"nickname\", Nickname);\n\t\tif (Icon) sessionStorage.setItem(\"icon\", Icon);\n\n\t\tconst body = {\n\t\t\tnickname: Nickname ? Nickname : OldNickname,\n\t\t\tstate: 'on',\n\t\t\ticon: Icon ? Icon : OldIcon,\n\t\t\t//...\n\t\t}\n\t\tif (isSignUp)\n\t\t\tawait axios.put('/Admin/' + IntraID, body)\n\t\telse\n\t\t\tawait axios.post('/Admin/' + IntraID, body)\n\t}\n\n\treturn (\n\t<div className=\"Admin-container\">\n\t\t{SignUp ? null : \n\t\t\t<div>\n\t\t\t\t<img src={findImg(OldIcon)} width=\"30\" height=\"30\"/>\n\t\t\t\t&nbsp;{OldNickname}\n\t\t\t\t<hr/>\n\t\t\t</div>\n\t\t}\n\t\t<input onChange={handleNicknameChange} placeholder=\"Nickname\"/>\n\n\t\t<div className=\"icon-box\">\n\t\t{allImages.map(({value, src}) =>\n\t\t\t<span className=\"icon\">\n\t\t\t\t<input type=\"radio\" name=\"icon\" value={value} onChange={handleIconChange} className=\"icon-input\"/>\n\t\t\t\t<img src={src} width=\"50\" height=\"50\" className=\"icon-img\"></img>\n\t\t\t</span>\n\t\t)}\n\t\t</div>\n\n\t\t<div className=\"Join-button\">\n\t\t\t{\n\t\t\t\tSignUp && (!Nickname || !Icon) ? null :\n\t\t\t\t<a className=\"btn btn-dark\" href=\"/Lobby\" onClick={() => saveAdmin(SignUp)}><b>OK</b></a>\n\t\t\t}\n\t\t</div>\n\t</div>\n\t);\n};\n\nexport default Admin;"]},"metadata":{},"sourceType":"module"}