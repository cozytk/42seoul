{"ast":null,"code":"import GameObject from './GameObject';\nimport socket from './PongSocket';\n\nclass Ball extends GameObject {\n  constructor(game, width, height, x, y) {\n    super(game, width, height, x, y);\n    this.speed = void 0;\n    this.originX = void 0;\n    this.originY = void 0;\n    this.oldX = void 0;\n    this.oldY = void 0;\n    this.dirX = void 0;\n    this.dirY = void 0;\n    this.coll = void 0;\n    this.pa = void 0;\n    this.originX = this.game.width / 2 - 10;\n    this.originY = this.game.height / 2 - 10;\n    this.oldX = this.originX;\n    this.oldY = this.originY;\n    this.x = this.originX;\n    this.y = this.originY;\n    this.dirX = 0;\n    this.dirY = 0;\n    this.speed = 0;\n    this.coll = false;\n    this.pa = false;\n  }\n\n  start(bs, dx, dy) {\n    this.speed = bs;\n    this.dirX = dx;\n    this.dirY = dy;\n    this.x = this.originX;\n    this.y = this.originY;\n    this.oldX = this.x;\n    this.oldY = this.y;\n  }\n\n  onUpdate(e) {\n    this.x = e.x;\n    this.y = e.y;\n    this.dirX = e.dirX;\n    this.dirY = e.dirY;\n    this.speed = this.game.ballSpeed;\n    this.pa = false;\n  }\n\n  paused() {\n    this.x = this.originX;\n    this.y = this.originY;\n    this.oldX = this.x;\n    this.oldY = this.y;\n    this.speed = this.game.ballSpeed;\n  }\n\n  onCollision() {\n    this.coll = true;\n  }\n\n  update(dt) {\n    super.update(dt);\n    this.oldX = this.x;\n    this.oldY = this.y;\n    this.x += this.dirX * this.speed * dt;\n    this.y += this.dirY * this.speed * dt;\n\n    if (this.game.pos === 0) {\n      if (this.x + this.width < 0) {\n        this.paused();\n        this.game.onScoredR();\n      } else if (this.x > this.game.width) {\n        this.paused();\n        this.game.onScoredL();\n      }\n\n      if (this.coll === true && !this.pa) {\n        socket.emit('Update', {\n          x: this.x,\n          y: this.y,\n          dirX: this.dirX,\n          dirY: this.dirY\n        });\n        this.pa = true;\n      }\n\n      this.coll = false;\n    }\n  }\n\n}\n\nexport default Ball;","map":{"version":3,"sources":["/Users/sohndohyun/works/transcendence/client/src/Pong/Ball.tsx"],"names":["GameObject","socket","Ball","constructor","game","width","height","x","y","speed","originX","originY","oldX","oldY","dirX","dirY","coll","pa","start","bs","dx","dy","onUpdate","e","ballSpeed","paused","onCollision","update","dt","pos","onScoredR","onScoredL","emit"],"mappings":"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","sourcesContent":["import { Update } from './Game';\nimport GameObject from './GameObject';\nimport socket from './PongSocket';\n\nclass Ball extends GameObject {\n    speed: number;\n    originX: number;\n    originY: number;\n\n    oldX: number;\n    oldY: number;\n    dirX: number;\n    dirY: number;\n\n    coll: boolean;\n    pa: boolean;\n    constructor(game: any, width: number, height: number, x: number, y: number) {\n        super(game, width, height, x, y);\n\n        this.originX = this.game.width / 2 - 10;\n        this.originY = this.game.height / 2 - 10;\n        this.oldX = this.originX;\n        this.oldY = this.originY;\n        this.x = this.originX;\n        this.y = this.originY;\n        this.dirX = 0;\n        this.dirY = 0;\n        this.speed = 0;\n        this.coll = false;\n        this.pa = false;\n    }\n\n    start(bs: number, dx: number, dy: number) {\n        this.speed = bs;\n        this.dirX = dx;\n        this.dirY = dy;\n        this.x = this.originX;\n        this.y = this.originY;\n        this.oldX = this.x;\n        this.oldY = this.y;\n    }\n\n    onUpdate(e: Update) {\n        this.x = e.x;\n        this.y = e.y;\n        this.dirX = e.dirX;\n        this.dirY = e.dirY;\n        this.speed = this.game.ballSpeed;\n\n        this.pa = false;\n    }\n\n    paused() {\n        this.x = this.originX;\n        this.y = this.originY;\n        this.oldX = this.x;\n        this.oldY = this.y;\n        this.speed = this.game.ballSpeed;\n    }\n\n    onCollision() {\n        this.coll = true;\n    }\n\n    update(dt: number) {\n        super.update(dt);\n\n        this.oldX = this.x;\n        this.oldY = this.y;\n        this.x += this.dirX * this.speed * dt;\n        this.y += this.dirY * this.speed * dt;\n\n        if (this.game.pos === 0) {\n            if (this.x + this.width < 0) {\n                this.paused();\n                this.game.onScoredR();\n            }\n            else if (this.x > this.game.width) {\n                this.paused();\n                this.game.onScoredL();\n            }\n\n            if (this.coll === true && !this.pa) {\n                socket.emit('Update', { x: this.x, y: this.y, dirX: this.dirX, dirY: this.dirY });\n                this.pa = true;\n            }\n\n            this.coll = false;\n        }\n    }\n}\n\nexport default Ball;"]},"metadata":{},"sourceType":"module"}