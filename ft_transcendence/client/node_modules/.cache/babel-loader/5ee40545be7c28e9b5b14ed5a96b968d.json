{"ast":null,"code":"var _jsxFileName = \"/Users/jinkim/jin_bye/client/src/Lobby/ChatList.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport useSwr from 'swr';\nimport lock from '../Images/lock.png';\nimport unlock from '../Images/unlock.png';\nimport \"./styles/ChatList.scss\";\nimport PwdCheckModal from \"./PwdCheckModal\";\nimport BanModal from \"./BanModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ChatList = props => {\n  _s();\n\n  const {\n    MyID\n  } = props;\n\n  const fetcher = async url => {\n    const res = await axios.get(url);\n    return res.data;\n  };\n\n  const {\n    data,\n    error\n  } = useSwr('Lobby/chatList', fetcher);\n  const [ClickedRoomTitle, setClickedRoomTitle] = useState(''); //pwd check modal\n\n  const [PwdCheckModalState, setPwdCheckModalState] = useState(false);\n\n  const openPwdCheckModal = title => {\n    setPwdCheckModalState(true);\n    setClickedRoomTitle(title);\n  };\n\n  const closePwdCheckModal = () => {\n    setPwdCheckModalState(false);\n  }; //ban modal\n\n\n  const [BanModalState, setBanModalState] = useState(false); //const openBanModal = (title:string) => {\n  //\tsetBanModalState(true);\n  //}\n\n  const closeBanModal = () => {\n    setBanModalState(false);\n  };\n\n  function enterPublicRoom(title) {\n    axios.post('/Lobby/enter', {\n      title: title,\n      id: MyID,\n      password: ''\n    }).then(res => {\n      document.location.href = '/Chat';\n      sessionStorage.setItem('roomName', title);\n    }).catch(err => {\n      //ban modal 띄우기\n      setBanModalState(true);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [data === null || data === void 0 ? void 0 : data.map(chatRoom => /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: \"chatList\",\n      onClick: () => {\n        if (chatRoom.security === 'protected') openPwdCheckModal(chatRoom.title);else enterPublicRoom(chatRoom.title);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"chatList-left\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chatList-num\",\n          children: chatRoom.num\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"lock\",\n        children: chatRoom.security != \"protected\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: unlock,\n          width: \"20\",\n          height: \"20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 41\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: lock,\n          width: \"20\",\n          height: \"20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 86\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"roomName\",\n        children: chatRoom.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }, this)), /*#__PURE__*/_jsxDEV(PwdCheckModal, {\n      open: PwdCheckModalState,\n      close: closePwdCheckModal,\n      chatRoomID: ClickedRoomTitle,\n      MyID: MyID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(BanModal, {\n      open: BanModalState,\n      close: closeBanModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 2\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ChatList, \"yphilFX9YbYdY7WKTFtEngS2bec=\", false, function () {\n  return [useSwr];\n});\n\n_c = ChatList;\nexport default ChatList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatList\");","map":{"version":3,"sources":["/Users/jinkim/jin_bye/client/src/Lobby/ChatList.tsx"],"names":["useState","axios","useSwr","lock","unlock","PwdCheckModal","BanModal","ChatList","props","MyID","fetcher","url","res","get","data","error","ClickedRoomTitle","setClickedRoomTitle","PwdCheckModalState","setPwdCheckModalState","openPwdCheckModal","title","closePwdCheckModal","BanModalState","setBanModalState","closeBanModal","enterPublicRoom","post","id","password","then","document","location","href","sessionStorage","setItem","catch","err","map","chatRoom","security","num"],"mappings":"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","sourcesContent":["import {useEffect, useState, useCallback} from \"react\";\nimport axios from \"axios\";\nimport useSwr from 'swr';\nimport lock from '../Images/lock.png'\nimport unlock from '../Images/unlock.png'\nimport \"./styles/ChatList.scss\"\nimport PwdCheckModal from \"./PwdCheckModal\";\nimport BanModal from \"./BanModal\";\n\nconst ChatList = (props: any) => {\n\tconst {MyID} = props\n\n\tconst fetcher = async (url:string) => {\n\t\tconst res = await axios.get(url)\n\t\treturn res.data;\n\t}\n\n\tconst {data, error} = useSwr<{title:string, num:number, security:string}[]>('Lobby/chatList', fetcher)\n\n\tconst [ClickedRoomTitle, setClickedRoomTitle] = useState('')\n\t//pwd check modal\n\tconst [PwdCheckModalState, setPwdCheckModalState] = useState(false);\n\tconst openPwdCheckModal = (title:string) => {\n\t\tsetPwdCheckModalState(true);\n\t\tsetClickedRoomTitle(title)\n\t}\n\tconst closePwdCheckModal = () => {\n\t\tsetPwdCheckModalState(false);\n\t}\n\n\t//ban modal\n\tconst [BanModalState, setBanModalState] = useState(false);\n\t//const openBanModal = (title:string) => {\n\t//\tsetBanModalState(true);\n\t//}\n\tconst closeBanModal = () => {\n\t\tsetBanModalState(false);\n\t}\n\n\tfunction enterPublicRoom(title:string) {\n\t\taxios.post('/Lobby/enter', {title:title, id:MyID, password:''})\n\t\t.then((res) => {\n\t\t\tdocument.location.href = '/Chat';\n\t\t\tsessionStorage.setItem('roomName', title)\n\t\t})\n\t\t.catch((err) => {\n\t\t\t//ban modal 띄우기\n\t\t\tsetBanModalState(true);\n\t\t})\n\t}\n\n\treturn (\n\t<>\n\t{data?.map(chatRoom=>\n\t\t<button type=\"button\" className=\"chatList\" onClick={() => {\n\t\t\tif (chatRoom.security === 'protected')\n\t\t\t\topenPwdCheckModal(chatRoom.title)\n\t\t\telse\n\t\t\t\tenterPublicRoom(chatRoom.title)\n\t\t}}>\n\t\t\t<span className=\"chatList-left\">\n\t\t\t\t<div className=\"chatList-num\">{chatRoom.num}</div>\n\t\t\t</span>\n\t\t\t<span className=\"lock\">\n\t\t\t\t{chatRoom.security != \"protected\" ? <img src={unlock} width=\"20\" height=\"20\"/> : <img src={lock} width=\"20\" height=\"20\"/>}\n\t\t\t</span>\n\t\t\t<span className=\"roomName\">\n\t\t\t\t{chatRoom.title}\n\t\t\t</span>\n\n\t\t</button>\n\t)}\n\t<PwdCheckModal open={PwdCheckModalState} close={closePwdCheckModal} chatRoomID={ClickedRoomTitle} MyID={MyID} />\n\t<BanModal open={BanModalState} close={closeBanModal}/>\n\t</>\n\t)\n}\n\nexport default ChatList"]},"metadata":{},"sourceType":"module"}